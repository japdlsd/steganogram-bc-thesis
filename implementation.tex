\chapter{Implementation}

In this chapter we will talk about main implmentation details of
our application.

\section{How to build the application}
In this section we will show how to build and install our application.

The process is very simple: you have to download all files and open them
in Android Studio. Some of the code is written in C++, so you'd need to 
use NDK if you want to build the application without Android Studio.

The application has been developed and tested on Android OS 4.4 .

\section{Overview of the design}
In this section we will show the general architecture of the application
and describe the main parts (e.g. classes, interfaces).

% TODO try to overview it by its functions: "what happened when we want to embed the message"


\section{Algorithms' settings}
In this section we will show concrete parameters of all used algorithms.

\subsection{Steganographic algorithm CE}

\paragraph{Separation ratio $\alpha$} We've chosen the same value as in the 
paper: $0.8$.

\paragraph{Adjustment parameter $\beta$} We've chosen the same value as in the paper: $\frac{1}{3}$.

\paragraph{Length of a message}
We've set maximum length of a block as 2 byte word, so the maximum length is 
$2^{16} = 65536$ bytes. Therefore, the maximum length of embedded message is 
$2^{16} (2 - \alpha) = 2^{16} (2 - 0.8) = 78643$ bytes.

\subsection{Generation of steganographic keys}

\subsection{Cryptographic algorithm AES}

\subsection{Generation of cryptographic keys}

\section{How to change used algorithms}
In this section we will show the object design of our application
and tell how to change used algorithms with another.

\subsection{Steganographic algorithm interface}
\begin{lstlisting} 
public interface DCTSteganography {
    boolean loadKeyFromString (final String s);
    String generateStegoKeyString ();

    void embed (int[] coeffOrig, 
            final InputStream embeddedData, int shuffleIndex);

    void extract (int[] coeffOrig,  
            ByteArrayOutputStream fos, Extract.ExtractionListener listener);
}
\end{lstlisting}

\subsection{Cryptographic algorithm interface}
\begin{lstlisting} 
public interface SymmetricEncryption {
    boolean loadKeyFromString (final String s);
    String generateCryptoKeyString ();
    byte[] encrypt (byte[] text);
    byte[] decrypt (byte[] message);
}
\end{lstlisting}

\subsection{Compression algorithm interface}
\begin{lstlisting} 
public interface Compression {
    byte[] compress (byte[] message);
    byte[] decompress (byte[] message);
}
\end{lstlisting}

